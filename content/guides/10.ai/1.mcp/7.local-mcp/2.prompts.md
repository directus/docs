---
title: Prompts
description: Configure stored prompts with the local MCP server using environment variables and manual collection setup.
headline: Local MCP
---

The local MCP server supports the same prompt functionality as the remote MCP server, but requires manual configuration through environment variables and collection setup.

::callout{icon="material-symbols:info" color="info"}
**Client Support**: Prompt functionality depends on your MCP client's support for the prompts feature. Check the [MCP clients compatibility matrix](https://modelcontextprotocol.io/clients) to verify your specific client supports prompts before setting up.
::

::callout{icon="material-symbols:lightbulb" color="primary"}
**Shared functionality**: For detailed information about creating prompts, templating, examples, and best practices, see the main [Prompts guide](/guides/ai/mcp/prompts). This page covers only the local MCP-specific setup differences.
::

## Setup Differences

The local MCP server requires manual configuration where the remote MCP provides UI-based setup:

| Aspect | Remote MCP | Local MCP |
|--------|------------|-----------|
| **Collection Creation** | Auto-generated through settings | Manual creation required |
| **Configuration** | Admin UI settings | Environment variables |
| **Field Setup** | Automatic | Manual field configuration |

## Collection Setup

Create the prompts collection manually in your Directus instance:

1. Log in to your Directus admin
2. Navigate to **Settings → Data Model**
3. Click **Create Collection**
4. Name it `ai_prompts` (or customize)
5. Add these required fields:

| Field Name | Field Type | Interface | Purpose |
|------------|------------|-----------|---------|
| `name` | String | Input | Prompt identifier |
| `description` | Text | Input Multiline | Prompt description |
| `system_prompt` | Text | Input Multiline | AI system context |
| `messages` | JSON | Input JSON | Message templates |

## Environment Configuration

Configure your local MCP server with these environment variables:

```json
{
  "mcpServers": {
    "directus": {
      "command": "npx",
      "args": ["@directus/content-mcp@latest"],
      "env": {
        "DIRECTUS_URL": "https://your-directus-instance.com",
        "DIRECTUS_TOKEN": "your_directus_token",
        "DIRECTUS_PROMPTS_COLLECTION_ENABLED": "true",
        "DIRECTUS_PROMPTS_COLLECTION": "ai_prompts",
        "DIRECTUS_PROMPTS_NAME_FIELD": "name",
        "DIRECTUS_PROMPTS_DESCRIPTION_FIELD": "description",
        "DIRECTUS_PROMPTS_SYSTEM_PROMPT_FIELD": "system_prompt",
        "DIRECTUS_PROMPTS_MESSAGES_FIELD": "messages"
      }
    }
  }
}
```

**Field Mapping**: If you used different field names in your collection, update the corresponding environment variables.

## Permissions

Ensure your MCP user has appropriate permissions:

1. Navigate to **Settings → Roles & Permissions**
2. Find your prompts collection
3. Enable permissions:
   - **Read**: Access existing prompts
   - **Create**: Allow AI to create new prompts
   - **Update**: Allow AI to modify prompts

## Using Prompts

Once configured, prompts work identically to the remote MCP server:

- **List prompts**: Ask AI "What prompts are available?"
- **Execute prompts**: Reference by name with variables
- **Create prompts**: AI can create new prompt templates

For detailed examples, templating syntax, and best practices, refer to the main [Prompts documentation](/guides/ai/mcp/prompts).

## Migration from Local to Remote

If you upgrade to Directus v11.12+ and want to switch to the remote MCP:

1. **Enable remote MCP** in Directus settings (Settings → AI → Model Context Protocol)
2. **Select your existing collection** in the AI Prompts Collection dropdown - no need to create a new one
3. **Update client configuration** to use the remote MCP endpoint instead of the local server

Since the remote MCP can use your existing prompts collection, there's no data migration required.
