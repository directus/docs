---
title: Troubleshooting
description: Common issues and solutions when setting up and using the Directus MCP server.
headline: MCP Server
---

Having trouble with your MCP setup? Here are the most common fixes.

## Connection Issues

### MCP Server Not Found

Check that MCP is enabled in **Settings → AI → Model Context Protocol** and your URL includes the `/mcp` endpoint:
- ✅ `https://your-site.com/mcp`
- ❌ `https://your-site.com`

### Authentication Failures

1. Verify your token is generated and saved in Directus
2. Check your MCP user has a role assigned
3. Test your token with curl:
```bash
curl -H "Authorization: Bearer your-token" \
     https://your-site.com/items/directus_collections
```

## Permission Errors

### Access Denied

Your MCP user needs appropriate permissions:
- **Content operations**: Read/write access to target collections
- **Schema operations**: Administrator role required

### Delete Operations Blocked

Enable "Allow Deletes" in **Settings → AI → Model Context Protocol** even if your user has delete permissions.

## Client Issues

### Claude Desktop
- Check JSON syntax in configuration (no trailing commas)
- Restart Claude Desktop after config changes
- Verify token in environment variables

### Claude Code (VS Code)
- Configuration goes in VS Code settings, not Claude Desktop
- Search for "Claude MCP" in VS Code settings
- Restart VS Code after changes

### ChatGPT
- Requires Pro or Teams subscription
- Use Bearer token format: `Bearer your-token`

### Cursor
- Put `.cursor/mcp.json` in project root
- Check file permissions and JSON syntax

## Quick Debugging

Test with simple operations:
1. "Please call the system prompt tool"
2. "What collections do I have?"
3. "Show me one item from [collection-name]"
